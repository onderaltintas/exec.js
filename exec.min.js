var exec=function(a){var d="_"+ +new Date+Math.random().toFixed(16).substring(2),b="EventListener",c="Event",b=window["add"+b]?["add"+b,"remove"+b]:["attach"+c,"detach"+c],c=(b[0]==="attach"+c?"on":"")+"message",g;this.stop=function(){g&&(g(),g=!1)};this.promise=new Promise(function(k,l){var e=document.createElement("iframe");e.name=d;e.style="display:none;";document.body.appendChild(e);var f=e.contentWindow||e.contentDocument;f.document&&(f=f.document);var h=function(a){a.data[0]===d&&(k(a.data[1]),
window[b[1]](c,h,!1))};g=function(){try{var a=window.frames[d];"undefined"===typeof a.stop?a.document.execCommand("Stop"):a.stop()}catch(m){}document.body.removeChild(e);window[b[1]](c,h,!1);console.warn("Exec aborted")};window[b[0]](c,h,!1);"function"===typeof a&&(a="("+a.toString()+")()");f.open();f.write("<script>var returnData = function(data,buffer) { if (typeof buffer !== 'undefined') { buffer = [buffer]; } parent.postMessage(['"+d+"',data],"+JSON.stringify(document.location.href)+",buffer); };"+
a+"\x3c/script>");f.close()})};exec.prototype=Object.create(Promise.prototype);exec.prototype.constructor=exec;exec.prototype["catch"]=function(a){this.promise["catch"](a);return this};exec.prototype.then=function(a,d){this.promise.then(a,d);return this};exec.prototype.stop=function(){return this.stop()};
